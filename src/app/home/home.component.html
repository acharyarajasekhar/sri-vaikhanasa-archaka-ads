<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Home</ion-title>
  </ion-toolbar>
</ion-header>

<ion-progress-bar *ngIf="isLoading" type="indeterminate" color="tertiary" mode="ios">
</ion-progress-bar>

<ion-content>

  <br />
  <div class="container" style="max-width: 600px;">
    <div class="row">

      <ng-container *ngFor="let post of sortedPosts">

        <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
          <archaka-post-card [post]="post" (onOptionsClick)="showOptions($event)" *ngIf="!!post.isActive && !!post.isVerified"></archaka-post-card>
        </div>

      </ng-container>

    </div>
  </div>

  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button size='small' (click)="addNew()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <ion-infinite-scroll [disabled]="isEndOfPageReached" threshold="10px" (ionInfinite)="loadData($event)">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

  <ion-item *ngIf="isEndOfPageReached" lines="none" color="light">
    <ion-note>* End of Page *</ion-note>
  </ion-item>

  <ng-container *ngIf="page.empty | async">

    <div id="noitemscontainer">
      <ion-icon src="/assets/icons/noinbox.svg" style="font-size: 32px;"></ion-icon>
      <p>No Posts Available</p>
    </div>

  </ng-container>

</ion-content>

<ion-footer>
  <ion-tabs>
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="schedule">
        <ion-icon name="calendar"></ion-icon>
        <ion-label>Schedule</ion-label>
        <ion-badge>6</ion-badge>
      </ion-tab-button>

      <ion-tab-button tab="speakers">
        <ion-icon name="person-circle"></ion-icon>
        <ion-label>Speakers</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="map">
        <ion-icon name="map"></ion-icon>
        <ion-label>Map</ion-label>
      </ion-tab-button>

      <ion-tab-button tab="about">
        <ion-icon name="information-circle"></ion-icon>
        <ion-label>About</ion-label>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-footer>